<!-- LGPD Cookie Consent Banner -->
<div id="lgpd-banner" style="display: none; position: fixed; bottom: 0; left: 0; right: 0; background: #1a3c34; color: white; padding: 20px; z-index: 1000; text-align: center; font-family: 'Inter', sans-serif;">
  <div style="max-width: 800px; margin: 0 auto;">
    <p style="margin: 0 0 15px 0; font-size: 14px; line-height: 1.5;">Este site usa cookies para melhorar sua experiência. Ao continuar navegando, você concorda com nossa <a href="#" onclick="showPrivacyPolicy()" style="color: #4CAF50; text-decoration: underline;">Política de Privacidade</a>.</p>
    <button onclick="acceptAllCookies()" style="background: #4CAF50; color: white; border: none; padding: 10px 20px; margin: 5px; cursor: pointer; border-radius: 5px; font-size: 14px;">Aceitar Todos</button>
    <button onclick="showCookieSettings()" style="background: #666; color: white; border: none; padding: 10px 20px; margin: 5px; cursor: pointer; border-radius: 5px; font-size: 14px;">Configurações</button>
    <button onclick="rejectAllCookies()" style="background: #f44336; color: white; border: none; padding: 10px 20px; margin: 5px; cursor: pointer; border-radius: 5px; font-size: 14px;">Rejeitar Todos</button>
  </div>
</div>

<!-- Cookie Settings Modal -->
<div id="cookie-settings" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 10px; box-shadow: 0 0 20px rgba(0,0,0,0.3); z-index: 1001; max-width: 500px; width: 90%; font-family: 'Inter', sans-serif;">
  <h3 style="color: #2c5530; margin-bottom: 20px;">Configurações de Cookies</h3>
  <div style="text-align: left; margin: 20px 0;">
    <label style="display: block; margin: 15px 0; padding: 10px; background: #f8f9fa; border-radius: 5px;">
      <input type="checkbox" id="necessary-cookies" checked disabled style="margin-right: 10px;"> 
      <strong>Cookies Necessários</strong> (obrigatórios)
      <p style="margin: 5px 0 0 25px; font-size: 12px; color: #666;">Funcionalidade básica do site</p>
    </label>
    <label style="display: block; margin: 15px 0; padding: 10px; background: #f8f9fa; border-radius: 5px;">
      <input type="checkbox" id="analytics-cookies" style="margin-right: 10px;"> 
      <strong>Cookies Analíticos</strong>
      <p style="margin: 5px 0 0 25px; font-size: 12px; color: #666;">Análise de tráfego e uso do site</p>
    </label>
    <label style="display: block; margin: 15px 0; padding: 10px; background: #f8f9fa; border-radius: 5px;">
      <input type="checkbox" id="marketing-cookies" style="margin-right: 10px;"> 
      <strong>Cookies de Marketing</strong>
      <p style="margin: 5px 0 0 25px; font-size: 12px; color: #666;">Personalização de conteúdo</p>
    </label>
  </div>
  <button onclick="saveCookieSettings()" style="background: #4CAF50; color: white; border: none; padding: 12px 25px; margin: 5px; cursor: pointer; border-radius: 5px; font-size: 14px;">Salvar Preferências</button>
  <button onclick="closeCookieSettings()" style="background: #666; color: white; border: none; padding: 12px 25px; margin: 5px; cursor: pointer; border-radius: 5px; font-size: 14px;">Fechar</button>
</div>

<!-- Privacy Policy Modal -->
<div id="privacy-policy" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 10px; box-shadow: 0 0 20px rgba(0,0,0,0.3); z-index: 1001; max-width: 600px; width: 90%; max-height: 80vh; overflow-y: auto; font-family: 'Inter', sans-serif;">
  <h3 style="color: #2c5530; margin-bottom: 20px;">Política de Privacidade - LGPD</h3>
  <div style="text-align: left;">
    <h4 style="color: #2c5530;">1. Coleta de Dados</h4>
    <p>Coletamos apenas dados necessários para o funcionamento do site e melhorar sua experiência.</p>
    
    <h4 style="color: #2c5530;">2. Uso de Cookies</h4>
    <p>Utilizamos cookies para:</p>
    <ul>
      <li>Funcionalidade básica do site (necessários)</li>
      <li>Análise de tráfego (analíticos)</li>
      <li>Personalização de conteúdo (marketing)</li>
    </ul>
    
    <h4 style="color: #2c5530;">3. Seus Direitos</h4>
    <p>Você tem o direito de:</p>
    <ul>
      <li>Acessar seus dados pessoais</li>
      <li>Corrigir dados incorretos</li>
      <li>Excluir seus dados</li>
      <li>Revogar consentimento</li>
    </ul>
    
    <h4 style="color: #2c5530;">4. Contato</h4>
    <p>Para exercer seus direitos, entre em contato: <a href="mailto:privacy@leocyte.com">privacy@leocyte.com</a></p>
  </div>
  <button onclick="closePrivacyPolicy()" style="background: #666; color: white; border: none; padding: 12px 25px; margin: 10px 0; cursor: pointer; border-radius: 5px; font-size: 14px;">Fechar</button>
</div>

<!-- Overlay for modals -->
<div id="modal-overlay" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 1000;"></div>

<script>
// Cookie functions
function getCookie(name) {
  const value = `; ${document.cookie}`;
  const parts = value.split(`; ${name}=`);
  if (parts.length === 2) return parts.pop().split(';').shift();
}

function setCookie(name, value, days) {
  const date = new Date();
  date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
  document.cookie = `${name}=${value}; expires=${date.toUTCString()}; path=/; SameSite=Lax`;
}

function showLGPDBanner() {
  if (!getCookie('lgpd_consent')) {
    document.getElementById('lgpd-banner').style.display = 'block';
  }
}

function acceptAllCookies() {
  setCookie('lgpd_consent', 'all', 365);
  setCookie('necessary_cookies', 'true', 365);
  setCookie('analytics_cookies', 'true', 365);
  setCookie('marketing_cookies', 'true', 365);
  document.getElementById('lgpd-banner').style.display = 'none';
  initializeCookies();
}

function rejectAllCookies() {
  setCookie('lgpd_consent', 'necessary', 365);
  setCookie('necessary_cookies', 'true', 365);
  setCookie('analytics_cookies', 'false', 365);
  setCookie('marketing_cookies', 'false', 365);
  document.getElementById('lgpd-banner').style.display = 'none';
  initializeCookies();
}

function showCookieSettings() {
  document.getElementById('cookie-settings').style.display = 'block';
  document.getElementById('modal-overlay').style.display = 'block';
  
  // Load current settings
  document.getElementById('analytics-cookies').checked = getCookie('analytics_cookies') === 'true';
  document.getElementById('marketing-cookies').checked = getCookie('marketing_cookies') === 'true';
}

function closeCookieSettings() {
  document.getElementById('cookie-settings').style.display = 'none';
  document.getElementById('modal-overlay').style.display = 'none';
}

function saveCookieSettings() {
  const analytics = document.getElementById('analytics-cookies').checked;
  const marketing = document.getElementById('marketing-cookies').checked;
  
  setCookie('lgpd_consent', 'custom', 365);
  setCookie('necessary_cookies', 'true', 365);
  setCookie('analytics_cookies', analytics.toString(), 365);
  setCookie('marketing_cookies', marketing.toString(), 365);
  
  document.getElementById('cookie-settings').style.display = 'none';
  document.getElementById('modal-overlay').style.display = 'none';
  document.getElementById('lgpd-banner').style.display = 'none';
  
  initializeCookies();
}

function showPrivacyPolicy() {
  document.getElementById('privacy-policy').style.display = 'block';
  document.getElementById('modal-overlay').style.display = 'block';
}

function closePrivacyPolicy() {
  document.getElementById('privacy-policy').style.display = 'none';
  document.getElementById('modal-overlay').style.display = 'none';
}

function initializeCookies() {
  const analytics = getCookie('analytics_cookies') === 'true';
  const marketing = getCookie('marketing_cookies') === 'true';
  
  // Initialize analytics cookies if accepted
  if (analytics) {
    // Add your analytics code here (Google Analytics, etc.)
    console.log('Analytics cookies initialized');
  }
  
  // Initialize marketing cookies if accepted
  if (marketing) {
    // Add your marketing cookies here
    console.log('Marketing cookies initialized');
  }
}

// Show banner on page load
document.addEventListener('DOMContentLoaded', function() {
  showLGPDBanner();
  initializeCookies();
});

// Close modals when clicking overlay
document.getElementById('modal-overlay').addEventListener('click', function() {
  closeCookieSettings();
  closePrivacyPolicy();
});
</script>
